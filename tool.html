<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Cache-Control" content="no-cache">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LIFFツール</title>
    <link href="style.css" rel="stylesheet">
    
</head>
<body>
    <h1>LIFFツール<br>FLEX ジェネレーター</h1>
    <p>直打ち／出力<input type="text" id="msgg" size="20" value=""></p><br>
    <button type="button" onclick=run() >送信</button><br>
    <p>log:<span id="err"></span></p>
    <p>以下、開発中...テンプレート</p>
        <section>
            <h1>投票箱</h1>
            <p>通知メッセージ<input type="text" id="Valt" size="20" value="[投票] "></p>
            <p>タイトル<input type="text" id="Vtitle" size="20" value="[投票] "></p>
            <p>説明文<input type="text" id="Vinfo" size="20" value="投票に参加してみましょう"></p>
            <p>ボタン名<input type="text" id="VbutName" size="20" value="投票する"></p>
            <p>ボタンuri<input type="text" id="VbutUri" size="20" value="https://line.me"></p>
            <p>投票uri<input type="text" id="Vuri" size="20" value="https://line.me"></p>
            <p>画像url<input type="text" id="VimgUrl" size="20" value="https://scdn.line-apps.com/n/_1/poll/static/icon-message-1024.971665e3.png"></p>
            <button type="button" onclick= Vout()>出力</button><br>
        </section>
        <section>
            <h1>ライブトーク</h1>
            <p>通知メッセージ<input type="text" id="Lalt" size="20" value="ライブトークが始まりました"></p>
            <p>タイトル<input type="text" id="Ltitle" size="20" value="オープンチャット"></p>
            <p>説明文<input type="text" id="Linfo" size="20" value="ライブトークが始まりました。ライブに参加してみましょう。"></p>
            <p>ボタン名<input type="text" id="LbutName" size="20" value="ライブトークに参加"></p>
            <p>ボタンuri<input type="text" id="LbutUri" size="20" value="https://line.me"></p>
            <p>オプ画像url<input type="text" id="LimgUrl" size="20" value="https://pbs.twimg.com/profile_images/1143561629293932546/sHLQ_Mgr_400x400.png"></p>
            <button type="button" onclick= Lout()>出力</button><br>
        </section>
        <section>
            <h1>オープンチャット利用制限</h1>
            <p>通知メッセージ<input type="text" id="Oalt" size="20" value="オープンチャット利用制限：１日間"></p>
            <p>タイトル<input type="text" id="Otitle" size="20" value="オープンチャット利用制限：１日間"></p>
            <p>説明文<input type="text" id="Oinfo" size="20" value="運営への批判などが含まれたコンテンツをシェアした疑いがあるため、サービスの利用が制限されました。禁止事項に関する詳細は、以下のリンクをご確認ください。"></p>
            <p>ボタン名<input type="text" id="ObutName" size="20" value="安心・安全ガイドライン"></p>
            <p>ボタンuri<input type="text" id="ObutUri" size="20" value="https://line.me"></p>
            <p>サービスuri<input type="text" id="Ourl" size="20" value="https://line.me"></p>
            <button type="button" onclick= Oout()>出力</button><br>
        </section>
        <section>
            <h1>オープンチャット招待</h1>
            <p>通知メッセージ<input type="text" id="Ialt" size="20" value="オープンチャットに招待されました"></p>
            <p>タイトル<input type="text" id="Ititle" size="20" value="オープンチャット"></p>
            <p>説明文<input type="text" id="Iinfo" size="20" value="招待されました。"></p>
            <p>ボタン名<input type="text" id="IbutName" size="20" value="参加する"></p>
            <p>ボタンuri<input type="text" id="IbutUri" size="20" value="https://line.me"></p>
            <p>オプ画像url<input type="text" id="IimgUrl" size="20" value="https://pbs.twimg.com/profile_images/1143561629293932546/sHLQ_Mgr_400x400.png"></p>
            <button type="button" onclick= Iout()>出力</button><br>
        </section>
        <section>
            <h1>カスタム</h1>
            <p>通知メッセージ<input type="text" id="Calt" size="20" value=""></p>
            <p>タイトル<input type="text" id="Ctitle" size="20" value=""></p>
            <p>説明文<input type="text" id="Cinfo" size="20" value=""></p>
            <p>画像url<input type="text" id="CimgUrl" size="20" value=""></p>
            <button type="button" onclick= Cout()>枠出力↓</button><br>
            <p><span id="cout"></span></p>
            <p>ボタン生成</p>
            <p>ボタン名<input type="text" id="CbutName" size="20" value=""></p>
            <p>ボタンuri<input type="text" id="CbutUri" size="20" value="https://line.me"></p>
            <button type="button" onclick= CBout()>ボタン出力↓</button><br>
            <p><span id="cbout"></span></p>
        </section>
    <script src='https://static.line-scdn.net/liff/edge/2/sdk.js'></script>
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.5/dist/js.cookie.min.js"></script>
    <script>
        const liffId='1661226722-beANnaeG'
        liff.init({
            liffId: liffId // Use own liffId
        }).then(() => {
                getc()
        })
        .catch((err) => {
                document.getElementById('err').innerHTML= err
        }).then(() => {
            document.getElementById("msgg").value = Cookies.get('rawjson');
        })

        function Vout(){
            var alt = document.getElementById("Valt").value;
            var title = document.getElementById("Vtitle").value;
            var info = document.getElementById("Vinfo").value;
            var butName = document.getElementById("VbutName").value;
            var butUri = document.getElementById("VbutUri").value;
            var uri = document.getElementById("Vuri").value;
            var imag = document.getElementById("VimgUrl").value;
            document.getElementById("msgg").value = `[{"type":"flex","altText":"${alt}","contents":{"type":"bubble","size":"kilo","direction":"ltr","hero":{"type":"image","url":"${imag}","aspectRatio":"260:173","aspectMode":"cover","size":"full"},"body":{"type":"box","layout":"vertical","contents":[{"type":"box","layout":"vertical","contents":[{"type":"text","weight":"bold","color":"#000000","maxLines":3,"wrap":true,"contents":[],"size":"17px","text":"${title}"},{"type":"text","text":"${info}","color":"#555555","size":"14px","margin":"5px","maxLines":3,"wrap":true,"offsetTop":"5px","offsetStart":"1px"}],"paddingTop":"12px","paddingBottom":"16px","paddingStart":"12px","paddingEnd":"12px"},{"type":"box","layout":"vertical","spacing":"none","contents":[{"type":"box","layout":"vertical","contents":[{"type":"text","text":"${butName}","color":"#42659a","size":"14px"}],"height":"57px","justifyContent":"center","alignItems":"center","action":{"type":"uri","label":"action","uri":"${butUri}"},"offsetTop":"2px"},{"type":"box","layout":"horizontal","contents":[],"width":"100%","height":"0.5px","margin":"4px","backgroundColor":"#0000000C","flex":0,"offsetBottom":"1px"},{"type":"box","layout":"horizontal","contents":[{"type":"box","layout":"horizontal","contents":[{"type":"image","url":"https://static.line-scdn.net/line_poll/edge/img/poll-flexIcon.png","align":"start","flex":0,"margin":"none","size":"16px","aspectMode":"fit","aspectRatio":"16:17"},{"type":"text","text":"投票","color":"#949494","size":"11px","align":"start","contents":[],"position":"relative","weight":"bold","margin":"6px"}],"alignItems":"center","justifyContent":"flex-start"},{"type":"image","flex":0,"align":"end","url":"https://vos.line-scdn.net/static/KOsdmDJ.png","size":"5px","aspectMode":"cover","aspectRatio":"5:8"}],"action":{"type":"uri","label":"action","uri":"https://line.me/R/share?text=運営はゴミ"},"spacing":"none","justifyContent":"space-between","alignItems":"center","paddingStart":"12px","paddingEnd":"12px","paddingTop":"10px","paddingBottom":"10px"}],"paddingAll":"none"}],"paddingAll":"none"}}}]`
            }

        function Lout(){
            var alt = document.getElementById("Lalt").value;
            var title = document.getElementById("Ltitle").value;
            var info = document.getElementById("Linfo").value;
            var butName = document.getElementById("LbutName").value;
            var butUri = document.getElementById("LbutUri").value;
            var imag = document.getElementById("LimgUrl").value;
            document.getElementById("msgg").value = `[{"type": "flex","altText": "${alt}","contents": {"type": "bubble", "size": "kilo", "body": { "type": "box", "layout": "vertical", "contents": [ { "type": "image", "url": "https://obs.line-scdn.net/0hF3YRnB6wGRxkKwtVFGNmS2t9RDIIXw0XAB9IBzlUM0I0ZSg0PSU3Dl5qGHo", "aspectRatio": "260:395", "aspectMode": "cover", "position": "absolute", "align": "end", "size": "full" }, { "type": "box", "layout": "horizontal", "contents": [ { "type": "box", "layout": "vertical", "contents": [ { "type": "box", "layout": "vertical", "contents": [ { "type": "image", "url": "https://obs.line-scdn.net/0hIYLvh3INFnZxDwQ_B4ppIXlZS1gdewJ9FTtHbQxIHCgofxVwEDESRBcQCRkK", "position": "absolute", "size": "11px", "align": "start", "offsetTop": "7px", "offsetStart": "14px" }, { "type": "text", "text": "Live talk", "size": "9px", "color": "#06C755", "weight": "bold", "offsetStart": "29px", "align": "start", "offsetBottom": "md", "position": "absolute" } ], "position": "absolute", "width": "82px", "height": "26px", "cornerRadius": "20px", "backgroundColor": "#00000040", "offsetStart": "13px", "offsetTop": "13px" }, { "type": "box", "layout": "vertical", "contents": [ { "type": "image", "url": "${imag}", "aspectMode": "cover", "size": "full" } ], "width": "95px", "height": "95px", "cornerRadius": "100px", "offsetTop": "18%", "offsetStart": "32%" }, { "type": "box", "layout": "vertical", "contents": [ { "type": "text", "text": "${title}", "margin": "none", "size": "20px", "color": "#FFFFFF", "weight": "bold", "align": "center", "wrap": true, "maxLines": 2 }, { "type": "text", "text": "${info}", "color": "#ffffff80", "margin": "sm", "size": "13px", "weight": "regular", "maxLines": 2, "align": "center", "wrap": true } ], "position": "absolute", "offsetTop": "49%", "paddingStart": "28px", "paddingEnd": "28px" }, { "type": "box", "layout": "vertical", "contents": [ { "type": "box", "layout": "baseline", "contents": [ { "type": "filler" }, { "type": "icon", "url": "https://obs.line-scdn.net/0h5s5xAax5alwIAXhwhy0VCz9XN3JkdX5XbDU7Yn9fawJ4aWpecTd4YENAdzRiYWheKyZ6bA", "size": "12px", "offsetTop": "1.5px" }, { "type": "text", "text": "${butName}", "size": "12px", "color": "#ffffff", "weight": "bold", "maxLines": 1, "flex": 0, "wrap": true }, { "type": "filler" } ], "paddingTop": "5%", "paddingBottom": "5%", "spacing": "4px" } ], "backgroundColor": "#06C755", "height": "35px", "cornerRadius": "7px", "offsetStart": "10%", "offsetEnd": "10%", "offsetBottom": "7.5%", "position": "absolute", "justifyContent": "center" }, { "type": "button", "action": { "type": "uri", "uri": "${butUri}", "label": " " }, "position": "absolute", "height": "md", "style": "link", "offsetTop": "81%", "offsetStart": "none", "offsetEnd": "none" } ], "position": "relative" } ], "offsetStart": "0px", "offsetEnd": "0px", "width": "100%", "height": "100%", "position": "absolute" } ], "paddingAll": "0px", "cornerRadius": "0px", "backgroundColor": "#2a2a2a", "height": "378px", "width": "100%" }, "styles": { "body": { "backgroundColor": "#000000" }}}}]`
            }

        function Oout(){
            var alt = document.getElementById("Oalt").value;
            var title = document.getElementById("Otitle").value;
            var info = document.getElementById("Oinfo").value;
            var butName = document.getElementById("ObutName").value;
            var butUri = document.getElementById("ObutUri").value;
            var uri = document.getElementById("Ourl").value;
            document.getElementById("msgg").value = `[{"type":"flex","altText":"${alt}","contents":{"type":"bubble","direction":"ltr","styles":{"footer":{"separator":true,"separatorColor":"#F0F0F0"}},"body":{"type":"box","layout":"vertical","contents":[{"type":"box","layout":"vertical","contents":[{"type":"text","text":"LINEオープンチャット","size":"sm","color":"#6486e3","weight":"bold","wrap":true},{"type":"text","text":"${title}","size":"xl","color":"#000000","weight":"bold","wrap":true}],"paddingTop":"sm","paddingBottom":"sm"},{"type":"box","layout":"vertical","contents":[{"type":"text","text":"${info}","size":"xs","color":"#555555","wrap":true}],"spacing":"sm","paddingTop":"md","paddingBottom":"md"},{"type":"box","layout":"vertical","contents":[{"type":"button","action":{"type":"uri","label":"${butName}","uri":"${butUri}"},"height":"sm"}],"paddingTop":"sm","paddingBottom":"sm"}],"spacing":"sm","paddingAll":"xl"},"footer":{"type":"box","layout":"horizontal","contents":[{"type":"box","layout":"vertical","contents":[{"type":"image","url":"https://obs.line-scdn.net/0hUoMuxuSZCkBwDCOxWCR1F0ZRASJDbhRLUi4acwFbDC8JaU0eHjpAL1INEXEPaU4THm0S","size":"full","position":"absolute","offsetTop":"0px","offsetBottom":"0px","offsetStart":"0px","offsetEnd":"0px"},{"type":"image","url":"https://vos.line-scdn.net/service-notifier/footer_profile_layer.png","size":"full","position":"absolute","offsetTop":"0px","offsetBottom":"0px","offsetStart":"0px","offsetEnd":"0px"}],"width":"20px","height":"20px"},{"type":"text","text":"LINE My inquiries","size":"xs","gravity":"center","color":"#999999","weight":"bold"},{"type":"box","layout":"horizontal","contents":[{"type":"image","url":"https://vos.line-scdn.net/service-notifier/footer_go_btn.png","size":"full","gravity":"center"}],"width":"12px"}],"spacing":"md","action":{"type":"uri","label":"action","uri":"${uri}"}},"size":"kilo"}}]`
        }

        function Iout(){
            var alt = document.getElementById("Ialt").value;
            var title = document.getElementById("Ititle").value;
            var info = document.getElementById("Iinfo").value;
            var butName = document.getElementById("IbutName").value;
            var butUri = document.getElementById("IbutUri").value;
            var imag = document.getElementById("IimgUrl").value;
            document.getElementById("msgg").value = `[{"type": "flex","altText": "${alt}","contents":{"type":"bubble","size":"kilo","body":{"type":"box","layout":"vertical","contents":[{"type":"image","url":"${imag}","size":"full","aspectMode":"cover","aspectRatio":"260:328","align":"end"},{"type":"image","url":"https://obs.line-scdn.net/0hI5cYsbLMFhpeID8D4iVpTVx2SzQyVAIROhRHKSN8Ji5yflJTIxkP","size":"full","aspectRatio":"260:328","align":"end","aspectMode":"cover","position":"absolute"},{"type":"image","url":"https://obs.line-scdn.net/0hJ44fB5PeFRsJHzwCtGJqTDxJSDVlawEQbStEA21LFHl9fxcjdzEGLnJCTlomZk0Mai8","size":"full","aspectMode":"cover","aspectRatio":"260:328","align":"end","position":"absolute"},{"type":"box","layout":"horizontal","contents":[{"type":"box","layout":"vertical","contents":[{"type":"box","layout":"vertical","contents":[{"type":"text","text":"${title}","size":"lg","color":"#FFFFFF","weight":"bold","maxLines":4,"wrap":true,"margin":"none","align":"start"},{"type":"text","text":"${info}","color":"#ffffff","size":"xs","weight":"regular","margin":"sm"}],"offsetStart":"16.92%","offsetEnd":"17.31%","position":"absolute","offsetTop":"25%"},{"type":"box","layout":"baseline","contents":[{"type":"text","text":"${butName}","color":"#ffffff","weight":"bold","size":"sm","gravity":"center"},{"type":"icon","url":"https://obs.line-scdn.net/0hQpG1rFeGDl96SCdGxgZxCHUeU3EWPBpUHnxfaRwLDik5KwxWRV9DcEAJDzk","position":"relative","size":"xxs"}],"position":"absolute","offsetTop":"83.84%","spacing":"xxl","width":"100%","paddingStart":"16.92%","paddingEnd":"17.31%"},{"type":"button","action":{"type":"uri","label":" ","uri":"${butUri}"},"style":"link","height":"md","offsetTop":"79.26%","position":"absolute","offsetStart":"none","offsetEnd":"none"}],"position":"relative"}],"position":"absolute","offsetStart":"0px","offsetEnd":"0px","width":"100%","height":"100%"}],"paddingAll":"0px","width":"100%","height":"100%","backgroundColor":"#aaaaaa00"}}}]`
        }
        
        function run(){
            var msg = document.getElementById("msgg").value;
            Cookies.set('rawjson', msg);
            msg = JSON.parse(msg);
            sendMessage(msg);
        }
        function sendMessage(msg){
                document.getElementById('err').innerHTML= ""
                liff.sendMessages(
                msg
            ).catch((err) => {
                document.getElementById('err').innerHTML= err
        })
        }
      
    </script>
</body>
  </html>
i
